<header class="header">
  <div class="header-container">
    <a routerLink="/" class="logo">
      <img src="/logo.png" alt="Recipe Exchange" />
    </a>
    <div class="auth-section">
      @if (authService.isAuthenticated()) {
        <div class="user-menu">
          <button class="user-button" (click)="toggleDropdown()">
            <img
              class="user-avatar"
              [src]="authService.currentUser()?.avatarUrl"
              [alt]="authService.currentUser()?.displayName"
            />
          </button>
          @if (dropdownOpen()) {
            <div class="user-dropdown">
              <a
                routerLink="/profile/{{ authService.currentUser()?.displayName }}"
                class="dropdown-item"
                (click)="dropdownOpen.set(false)"
                >View Profile</a
              >
              <a routerLink="/saved" class="dropdown-item" (click)="dropdownOpen.set(false)"
                >Saved</a
              >
              <a routerLink="/settings" class="dropdown-item" (click)="dropdownOpen.set(false)"
                >Settings</a
              >
              <button class="dropdown-item dropdown-item-logout" (click)="authService.logout()">
                Logout
              </button>
            </div>
          }
        </div>
      } @else {
        <div class="auth-buttons">
          <a routerLink="/login" class="button button-outline">Login</a>
          <a routerLink="/register" class="button button-primary">Register</a>
        </div>
      }
    </div>
  </div>
</header>
