@if (success()) {
  <div class="reset-password">
    <div class="reset-password-container">
      <h1>Password Reset</h1>
      <p class="subtitle">Your password has been reset successfully. You can now log in with your new password.</p>
      <a routerLink="/login" class="button button-primary submit-button">Go to Login</a>
    </div>
  </div>
} @else {
  <div class="reset-password">
    <div class="reset-password-container">
      <h1>Reset Password</h1>
      <p class="subtitle">Enter your new password below.</p>
      @if (errorMessage()) {
        <div class="error-message">{{ errorMessage() }}</div>
      }
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="newPassword">New Password</label>
          <input id="newPassword" type="password" formControlName="newPassword" placeholder="••••••••" />
          @if (
            form.get('newPassword')?.hasError('minlength') &&
            form.get('newPassword')?.touched
          ) {
            <span class="field-error">Password must be at least 6 characters</span>
          }
        </div>

        <div class="form-group">
          <label for="confirmPassword">Confirm Password</label>
          <input id="confirmPassword" type="password" formControlName="confirmPassword" placeholder="••••••••" />
          @if (
            form.get('confirmPassword')?.hasError('required') &&
            form.get('confirmPassword')?.touched
          ) {
            <span class="field-error">Please confirm your password</span>
          }
        </div>

        <button type="submit" class="button button-primary submit-button" [disabled]="form.invalid || loading()">
          @if (loading()) {
            Resetting...
          } @else {
            Reset Password
          }
        </button>
      </form>

      <p class="footer-text">
        <a routerLink="/login">Back to Login</a>
      </p>
    </div>
  </div>
}
