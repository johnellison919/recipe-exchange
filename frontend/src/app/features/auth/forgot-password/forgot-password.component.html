@if (submitted()) {
  <div class="forgot-password">
    <div class="forgot-password-container">
      <h1>Check Your Email</h1>
      <p class="subtitle">If an account with that email exists, we've sent a password reset link. Please check your inbox.</p>
      <p class="footer-text">
        <a routerLink="/login">Back to Login</a>
      </p>
    </div>
  </div>
} @else {
  <div class="forgot-password">
    <div class="forgot-password-container">
      <h1>Forgot Password</h1>
      <p class="subtitle">Enter your email address and we'll send you a link to reset your password.</p>
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="email">Email</label>
          <input id="email" type="email" formControlName="email" placeholder="you@example.com" />
          @if (form.get('email')?.hasError('email') && form.get('email')?.touched) {
            <span class="field-error">Please enter a valid email</span>
          }
        </div>

        <button type="submit" class="button button-primary submit-button" [disabled]="form.invalid || loading()">
          @if (loading()) {
            Sending...
          } @else {
            Send Reset Link
          }
        </button>
      </form>

      <p class="footer-text">
        Remember your password?
        <a routerLink="/login">Login</a>
      </p>
    </div>
  </div>
}
